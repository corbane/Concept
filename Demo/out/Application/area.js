import { RadialMenu } from "../Ui/Component/Circular-Menu/index.js";
import { Area } from "../Ui/Component/Area/area.js";
import { addCommand, runCommand } from "./command.js";
export const area = (() => {
    const canvas = document.createElement("canvas");
    canvas.width = document.body.clientWidth;
    canvas.height = document.body.clientHeight;
    document.body.append(canvas);
    return new Area(canvas);
})();
export const contextualMenu = new RadialMenu({
    context: "concept-ui",
    type: "radial-menu",
    id: "area-menu",
    buttons: [
        { type: "button", id: "add-thing", text: "", icon: "&#xe3c8;", fontFamily: "Material Icons", callback: () => { runCommand("zoom-extends"); } },
        { type: "button", id: "add-bubble", text: "", icon: "&#xe6dd;", fontFamily: "Material Icons" },
        { type: "button", id: "add-note", text: "", icon: "&#xe244;", fontFamily: "Material Icons", command: "pack-view" },
        { type: "button", id: "add-people", text: "", icon: "&#xe87c;", fontFamily: "Material Icons" },
        { type: "button", id: "add-tag", text: "", icon: "&#xe867;", fontFamily: "Material Icons" },
    ],
    rotation: Math.PI / 2,
});
document.body.append(...contextualMenu.getHtml());
addCommand("open-contextal-menu", (x, y) => {
    contextualMenu.show(x, y);
});
addCommand("close-contextal-menu", () => {
    contextualMenu.hide();
});
addCommand("add-skill", (title) => {
    console.log("Add skill");
});
addCommand("add-person", (name) => {
});
addCommand("zoom-extends", () => {
    area.zoom();
});
addCommand("zoom-to", (shape) => {
    area.zoom(shape);
    area.isolate(shape);
});
addCommand("pack-view", () => {
    area.pack();
});
// CLICK EVENTS
// area.onTouchObject = ( shape ) =>
// {
//      runCommand ( "zoom-to", shape )
// }
area.onDoubleTouchObject = (shape) => {
    if (shape.config.onTouch != undefined)
        shape.config.onTouch(shape);
};
area.onTouchArea = (x, y) => {
    runCommand("open-contextal-menu", x, y);
};
// HOVER EVENTS
area.onOverObject = (shape) => {
    shape.hover(true);
    area.fcanvas.requestRenderAll();
};
area.onOutObject = (shape) => {
    shape.hover(false);
    area.fcanvas.requestRenderAll();
};
// TEST
if (navigator.maxTouchPoints > 0) {
    window.addEventListener("pointermove", event => {
        //const target = area.fcanvas.findTarget ( event, true )
        //if ( target )
        //     console.log ( target )
    });
}
else {
    window.addEventListener("mousemove", event => {
        //const target = area.fcanvas.findTarget ( event, true )
        //if ( target )
        //     console.log ( target )
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJlYS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL0FwcGxpY2F0aW9uL2FyZWEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHdDQUF3QyxDQUFBO0FBQ25FLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQTtBQUduRCxPQUFPLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBZ0IsTUFBTSxjQUFjLENBQUE7QUFFbkUsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFJLENBQUMsR0FBRyxFQUFFO0lBRXRCLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUcsUUFBUSxDQUFFLENBQUE7SUFFbEQsTUFBTSxDQUFDLEtBQUssR0FBSSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQTtJQUN6QyxNQUFNLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFBO0lBRTFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFHLE1BQU0sQ0FBRSxDQUFBO0lBRS9CLE9BQU8sSUFBSSxJQUFJLENBQUcsTUFBTSxDQUFFLENBQUE7QUFDL0IsQ0FBQyxDQUFDLEVBQUcsQ0FBQTtBQUVMLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxJQUFJLFVBQVUsQ0FBRTtJQUN6QyxPQUFPLEVBQUUsWUFBWTtJQUNyQixJQUFJLEVBQUUsYUFBYTtJQUNuQixFQUFFLEVBQUUsV0FBVztJQUNmLE9BQU8sRUFBRTtRQUNKLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFHLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxHQUFHLFVBQVUsQ0FBRyxjQUFjLENBQUUsQ0FBQSxDQUFDLENBQUMsRUFBRTtRQUNqSixFQUFFLElBQUksRUFB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