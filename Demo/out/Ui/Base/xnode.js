export const xnode = (() => {
    const svg_names = ["svg", "g", "line", "circle", "path", "text"];
    function create(name, props, ...children) {
        props = Object.assign({}, props);
        const element = svg_names.indexOf(name) === -1
            ? document.createElement(name)
            : document.createElementNS("http://www.w3.org/2000/svg", name);
        const content = [];
        // Children
        while (children.length > 0) {
            let child = children.pop();
            if (Array.isArray(child)) {
                for (var i = 0; i != child.length; i++)
                    children.push(child[i]);
            }
            else {
                content.push(child);
            }
        }
        while (content.length > 0) {
            let child = content.pop();
            if (child instanceof Node)
                element.appendChild(child);
            else if (typeof child == "boolean" || child)
                element.appendChild(document.createTextNode(child.toString()));
        }
        // Attributes
        const isArray = Array.isArray;
        const conv = {
            class: (v) => isArray(v) ? v.join(" ") : v,
            style: (v) => isArray(v) ? v.join(" ")
                : typeof v == "object" ? objectToStyle(v)
                    : v,
            // svg
            d: (v) => isArray(v) ? v.join(" ") : v,
        };
        for (const key in props) {
            const value = props[key];
            if (typeof value == "function")
                element.addEventListener(key, value);
            else
                element.setAttribute(key, (conv[key] || (v => v))(value));
        }
        return element;
        function objectToStyle(obj) {
            var result = "";
            for (const key in obj)
                result += key + ": " + obj[key] + "; ";
            return result;
        }
        function camelize(str) {
            return str.replace(/(?:[A-Z]|\b\w)/g, (word, index) => index == 0 ? word.toLowerCase() : word.toUpperCase()).replace(/\s+/g, '');
        }
        function uncamelize(str) {
            return str.trim().replace(
            //   /(?<!-)(?:[A-Z]|\b\w)/g,
            /(?:[A-Z]|\b\w)/g, (word, index) => index == 0 ? word.toLowerCase() : '-' + word.toLowerCase()).replace(/(?:\s+|_)/g, '');
        }
    }
    return create;
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieG5vZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9VaS9CYXNlL3hub2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsRUFBRTtJQUV0QixNQUFNLFNBQVMsR0FBRyxDQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFFLENBQUE7SUFjbEUsU0FBUyxNQUFNLENBQ1YsSUFBWSxFQUNaLEtBQVUsRUFDVixHQUFHLFFBQTBDO1FBRzdDLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFHLEVBQUUsRUFBRSxLQUFLLENBQUUsQ0FBQTtRQUVuQyxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFHLElBQUksQ0FBRSxLQUFLLENBQUMsQ0FBQztZQUN2QyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBRyxJQUFJLENBQUU7WUFDakMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUcsNEJBQTRCLEVBQUUsSUFBSSxDQUFFLENBQUE7UUFFM0UsTUFBTSxPQUFPLEdBQUcsRUFBVyxDQUFBO1FBRTNCLFdBQVc7UUFFWCxPQUFRLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUMzQjtZQUNLLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtZQUUxQixJQUFLLEtBQUssQ0FBQyxPQUFPLENBQUUsS0FBSyxDQUFFLEVBQzNCO2dCQUNLLEtBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFHLENBQUMsRUFBRTtvQkFDcEMsUUFBUSxDQUFDLElBQUksQ0FBRSxLQUFLLENBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQTthQUNuQztpQkFFRDtnQkFDSyxPQUFPLENBQUMsSUFBSSxDQUFFLEtBQUssQ0FBRSxDQUFBO2FB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