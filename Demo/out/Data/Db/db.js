import { DataTree } from "./data-tree.js";
export class Database extends DataTree {
    has() {
        if (arguments.length == 0)
            return;
        if (arguments.length == 1) {
            const o = arguments[0];
            return super.near([o.context, o.type, o.id]) !== undefined;
        }
        else {
            return super.near(arguments) !== undefined;
        }
    }
    count() {
        if (arguments.length == 0)
            return;
        if (arguments.length == 1) {
            const o = arguments[0];
            return super.count([o.context, o.type, o.id]);
        }
        else {
            return super.count(arguments);
        }
    }
    set() {
        if (arguments.length == 0)
            return;
        if (arguments.length == 1) {
            const o = arguments[0];
            return super.set([o.context, o.type, o.id], o);
        }
        else {
            return super.set(arguments[0], arguments[1]);
        }
    }
    get() {
        if (arguments.length == 0)
            return;
        const result = {};
        if (arguments.length == 1) {
            const o = arguments[0];
            super.walk([o.context, o.type, o.id], data => {
                Object.assign(result, data);
            });
            return Object.assign(result, o);
        }
        else {
            super.walk(arguments, data => {
                Object.assign(result, data);
            });
            return Object.assign(result, {
                context: arguments[0],
                type: arguments[1],
                id: arguments[2],
            });
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9EYXRhL0RiL2RiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQTtBQVF6QyxNQUFNLE9BQU8sUUFBbUMsU0FBUSxRQUFZO0lBSS9ELEdBQUc7UUFFRSxJQUFLLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUNyQixPQUFNO1FBRVgsSUFBSyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDMUI7WUFDSyxNQUFNLENBQUMsR0FBTSxTQUFTLENBQUUsQ0FBQyxDQUFDLENBQUE7WUFDMUIsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBRSxLQUFLLFNBQVMsQ0FBQTtTQUNqRTthQUVEO1lBQ0ssT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFHLFNBQVMsQ0FBRSxLQUFLLFNBQVMsQ0FBQTtTQUNqRDtJQUNOLENBQUM7SUFJRCxLQUFLO1FBRUEsSUFBSyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDckIsT0FBTTtRQUVYLElBQUssU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQzFCO1lBQ0ssTUFBTSxDQUFDLEdBQU0sU0FBUyxDQUFFLENBQUMsQ0FBQyxDQUFBO1lBQzFCLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBRyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQTtTQUNwRDthQUVEO1lBQ0ssT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFHLFNBQVMsQ0FBRSxDQUFBO1NBQ3BDO0lBQ04sQ0FBQztJQUlELEdBQUc7UUFFRSxJQUFLLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUNyQixPQUFNO1FBRVgsSUFBSyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDMUI7WUFDSyxNQUFNLENBQUMsR0FBTSxTQUFTLENBQUUsQ0FBQyxDQUFDLENBQUE7WUFDMUIsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQTtTQUNyRDthQUVEO1lBQ0ssT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFHLFNBQVMsQ0FBRSxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQTtTQUNyRDtJQUNOLENBQUM7SUFJRCxHQUFHO1FBRUUsSUFBSyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDckIsT0FBTTtRQUVYLE1BQU0sTUFBTSxHQUFHLEVBQU8sQ0FBQTtRQUV0QixJQUFLLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUMxQjtZQUNLLE1BQU0sQ0FBQyxHQUFVLFNBQVMsQ0FBRSxDQUFDLENBQUMsQ0FBQTtZQUM5QixLQUFLLENBQUMsSUFBSSxDQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDMUMsTUFBTSxDQUFDLE1BQU0sQ0FBRyxNQUFNLEVBQUUsSUFBSSxDQUFFLENBQUE7WUFDbkMsQ0FBQyxDQUFDLENBQUE7WUFDRixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUcsTUFBTSxFQUFFLENBQUMsQ0FBRSxDQUFBO1NBQ3RDO2FBRUQ7WUFDSyxLQUFLLENBQUMsSUFBSSxDQUFHLFNBQVMsRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDMUIsTUFBTSxDQUFDLE1BQU0sQ0FBRyxNQUFNLEVBQUUsSUFBSSxDQUFFLENBQUE7WUFDbkMsQ0FBQyxDQUFDLENBQUE7WUFFRixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUcsTUFBTSxFQUFFO2dCQUMxQixPQUFPLEVBQUUsU0FBUyxDQUFFLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxFQUFLLFNBQVMsQ0FBRSxDQUFDLENBQUM7Z0JBQ3RCLEVBQUUsRUFBTyxTQUFTLENBQUUsQ0FBQyxDQUFDO2FBQzFCLENBQUMsQ0FBQTtTQUNOO0lBQ04sQ0FBQztDQUNMIn0=